(this["webpackJsonpfast-discharge"]=this["webpackJsonpfast-discharge"]||[]).push([[0],{177:function(e,t,n){},188:function(e,t,n){},401:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(0),c=n.n(r),i=n(19),l=n.n(i),o=n(32),s=(n(177),n(1)),u=n(156),d=n.n(u),b=(n(188),n.p+"static/media/running.bda043eb.svg"),j=n(4),h=n(13),p=n(2),f=n(170),O=n(169),m=(n(234),n(12)),g=Object(m.EditListPlugin)({types:["bulleted-list","numbered-list"],typeItem:"list-item"}),x=Object(s.a)(g,3),v=x[0],y=x[1],w=x[2],k=w.Editor,C=(w.Element,w.Transforms),T=function(e){C.increaseItemDepth(e)},S=function(e){C.decreaseItemDepth(e)},D=function(e,t){if(k.isSelectionInList(e)){var n=k.getCurrentList(e,e.selection);console.log(n);var a=Object(s.a)(n,2),r=a[0],c=a[1];t&&r.type!==t?C.setNodes(e,{type:t},{at:c}):C.unwrapList(e)}else C.wrapInList(e,t)},E=n(62),N=function(e,t){var n=t||e.selection,a=p.Editor.next(e,{at:n,match:function(e){return"template-block"===e.type},mode:"lowest",voids:!0});if(a){var r=Object(s.a)(a,2)[1];p.Transforms.select(e,r)}},I=function(e,t){var n=t||e.selection,a=p.Editor.previous(e,{at:n,match:function(e){return"template-block"===e.type},mode:"lowest",voids:!0});if(a){var r=Object(s.a)(a,2)[1];p.Transforms.select(e,r)}},V={"mod+b":"bold","mod+i":"italic","mod+u":"underline"},F={"mod+alt+1":"heading-one","mod+alt+2":"heading-two","mod+alt+3":"heading-three","mod+alt+4":"heading-four","mod+.":"bulleted-list","mod+/":"numbered-list"},A={"mod+]":N,"mod+[":I},M=["numbered-list","bulleted-list"],R=function(e,t){var n=P(e,t),a=M.includes(t);p.Transforms.unwrapNodes(e,{match:function(e){return!p.Editor.isEditor(e)&&p.Element.isElement(e)&&M.includes(e.type)},split:!0});var r={type:n?"paragraph":a?"list-item":t};if(p.Transforms.setNodes(e,r),!n&&a){var c={type:t,children:[]};p.Transforms.wrapNodes(e,c)}},L=function(e,t){B(e,t)?p.Editor.removeMark(e,t):p.Editor.addMark(e,t,!0)},P=function(e,t){var n=p.Editor.nodes(e,{match:function(e){return!p.Editor.isEditor(e)&&p.Element.isElement(e)&&e.type===t}});return!!Object(s.a)(n,1)[0]},B=function(e,t){var n=p.Editor.marks(e);return!!n&&!0===n[t]},J=function(e,t,n,a,r){var c=r||t,i=p.Editor.before(e,t,a),l=i&&p.Editor.range(e,i,c),o=l&&p.Editor.string(e,l),s=o&&o.match(n);return{range:l,text:o,match:s}},Y=n(16),H=n(5),U=n(160),W=n.n(U),$=n(161),q=n(162),z=n.n(q),G=n(163),K=n.n(G),X=n(95),_=function(e){navigator.clipboard.writeText(function(e){var t,n=e.children.map(Z),a=W()().use($.a).use(z.a,{bullet:"-"}),r=a.runSync({type:"root",children:n}),c=a.stringify(r).split("\n"),i=c.map((function(e){return!!e.match(/^\s*(-|\d+\.)\s+/g)})).map((function(e){return e?"t":"f"})).join("").matchAll(/t(ft)+/g),l=[],o=Object(H.a)(i);try{var u=function(){var e=t.value,n=Object(s.a)(e,1)[0],a=e.index,r=Object(Y.a)(n).map((function(e,t){return"f"===e?a+t:-1})).filter((function(e){return e>=0}));l=l.concat(r)};for(o.s();!(t=o.n()).done;)u()}catch(d){o.e(d)}finally{o.f()}return c.map((function(e,t){return l.includes(t)?null:e})).filter((function(e){return null!==e})).join("\n")}(e)).then((function(){window.alert("Copied successfully!")}),(function(){window.alert("Copying failed!")}))},Q=function e(t){var n=Object(j.a)({},t);switch(n.children&&(n.children=n.children.map(e)),n.type){case"template-block":switch(n.templateType){case"select":return{text:n.defaultValue?n.defaultValue.value:""};case"multiselect":return{text:n.defaultValue?n.defaultValue.map((function(e){return e.value})).join(", "):""};case"date":var a;if(n.defaultValue){var r="string"===typeof n.defaultValue?new Date(n.defaultValue):n.defaultValue;a="".concat(r.getDate(),"/").concat(r.getMonth()+1,"/").concat(r.getFullYear())}return{text:a||""};default:return{text:""}}default:return n}},Z=function e(t){var n=Object(j.a)({},t);switch(p.Text.isText(n)&&(n.strong=n.bold,n.emphasis=n.italic),n.children&&(n.children=n.children.map(e)),n.type){case"heading-one":return Object(j.a)(Object(j.a)({},n),{},{type:"heading",depth:1});case"heading-two":return Object(j.a)(Object(j.a)({},n),{},{type:"heading",depth:2});case"heading-three":return Object(j.a)(Object(j.a)({},n),{},{type:"heading",depth:3});case"heading-four":return Object(j.a)(Object(j.a)({},n),{},{type:"heading",depth:4});case"numbered-list":return Object(j.a)(Object(j.a)({},n),{},{type:"list",ordered:!0});case"bulleted-list":return Object(j.a)(Object(j.a)({},n),{},{type:"list",ordered:!1});case"list-item":return Object(j.a)(Object(j.a)({},n),{},{type:"listItem"});case"template-block":return Q(t);default:return n}},ee=function(e){return e.children.map(Q).map(te).join("")},te=function e(t){if(p.Text.isText(t)){var n=K()(t.text);return t.bold&&(n="<strong>".concat(n,"</strong>")),t.italic&&(n="<em>".concat(n,"</em>")),t.underline&&(n="<u>".concat(n,"</u>")),n}var a=t.children.map((function(t){return e(t)})).join("");switch(t.type){case"heading-one":return"<h1>".concat(a,"</h1>");case"heading-two":return"<h2>".concat(a,"</h2>");case"heading-three":return"<h3>".concat(a,"</h3>");case"heading-four":return"<h4>".concat(a,"</h4>");case"bulleted-list":return"<ul>".concat(a,"</ul>");case"numbered-list":return"<ol>".concat(a,"</ol>");case"list-item":return"<li>".concat(a,"</li>");default:return a}},ne=function(e){var t=new X.a({"text/html":new Blob([ee(e)],{type:"text/html"})});try{X.b([t]),window.alert("Copied successfully!")}catch(n){window.alert("Copying failed!")}},ae=JSON.parse('[{"type":"heading-one","children":[{"text":"Welcome to FastDischarge!","bold":true}]},{"type":"paragraph","children":[{"text":"FastDischarge","bold":true},{"text":" supports many different types of template blocks:"}]},{"type":"bulleted-list","children":[{"type":"list-item","children":[{"type":"paragraph","children":[{"text":"Selecting from a list","bold":true},{"text":" (type in 2 {\'s): "},{"type":"template-block","templateType":"select","name":"fruits","opts":[{"label":"apple","value":"apple"},{"label":"orange","value":"orange"},{"label":"pineapple","value":"pineapple"},{"label":"pear","value":"pear"},{"label":"banana","value":"banana"},{"label":"grapefruit","value":"grapefruit"}],"defaultValue":{"label":"apple","value":"apple"},"children":[{"text":""}]},{"text":""}]}]},{"type":"list-item","children":[{"type":"paragraph","children":[{"text":"Selecting multiple items from a list","bold":true},{"text":" (type in 2 [\'s): "},{"type":"template-block","templateType":"multiselect","name":"fruits","opts":[{"label":"apple","value":"apple"},{"label":"pear","value":"pear"},{"label":"pineapple","value":"pineapple"},{"label":"orange","value":"orange"},{"label":"grapefruit","value":"grapefruit"},{"label":"citronella","value":"citronella"}],"defaultValue":[{"label":"pineapple","value":"pineapple"},{"label":"pear","value":"pear"},{"label":"grapefruit","value":"grapefruit"},{"label":"citronella","value":"citronella"}],"children":[{"text":""}]},{"text":" "}]}]},{"type":"list-item","children":[{"type":"paragraph","children":[{"text":"Selecting a date","bold":true},{"text":" (type in 2 @\'s): "},{"type":"template-block","templateType":"date","name":"date","children":[{"text":""}]},{"text":""}]}]},{"type":"list-item","children":[{"type":"paragraph","children":[{"text":"Setting a void element to be typed over (type in 2 *\'s): "},{"type":"template-block","templateType":"void","name":"void","children":[{"text":""}]},{"text":""}]}]}]},{"type":"paragraph","children":[{"text":"Whenever you want to name a field, simply click on the "},{"text":"gear","italic":true},{"text":" icon next to each template."}]},{"type":"paragraph","children":[{"text":"You can also use the "},{"text":"tab ","italic":true},{"text":"key to handily move between each template field."}]},{"type":"paragraph","children":[{"text":"If you\'re coming from PowerChart, FastDischarge also supports dot abbreviations - simply highlight any text and click the dot on the hovering menu, then name your abbreviation. Type in the dot, followed by the name of your abbreviation, and you\'ll be all set to go!"}]},{"type":"paragraph","children":[{"text":"More help can be found in the about menu - just click on the "},{"text":"?","bold":true},{"text":" button on the bottom-right. "}]},{"type":"paragraph","children":[{"text":"Happy discharging!","italic":true}]}]'),re=n(15),ce=n(48),ie=n.n(ce),le=function(e){var t=e.renderProps,n=t.attributes,c=t.children,i=t.element,l=e.children,o=e.tabIndex,u=Object(h.f)(),d=Object(h.e)(),b=Object(h.d)(),f=Object(r.useState)(i.name),O=Object(s.a)(f,2),m=O[0],g=O[1],x=Object(r.useState)(!1),v=Object(s.a)(x,2),y=v[0],w=v[1],k=Object(r.useState)(!1),C=Object(s.a)(k,2),T=C[0],S=C[1],D=Object(r.useCallback)((function(e){var t=e.target.value;g(t),E({name:t})}),[g]),E=Object(r.useCallback)((function(e){var t=h.b.findPath(b,i),n=Object(j.a)({},e);p.Transforms.setNodes(b,n,{at:t})}),[i]),N={boxShadow:u&&d?"0 0 0 2px #b4d5ff":"none",transform:"translateY(".concat(y?0:2,"px)"),transition:"0.3s ease all"};return Object(a.jsxs)("span",Object(j.a)(Object(j.a)({},n),{},{className:"template-block",contentEditable:!1,tabIndex:o,style:T?Object(j.a)(Object(j.a)({},N),{position:"relative",zIndex:99}):N,children:[y?Object(a.jsx)("div",{className:"content",children:Object(a.jsx)(ie.a,{placeholder:"Name this field...",value:m,onInput:D,onKeyDown:function(e){return"Enter"===e.key&&w(!y)}})}):l({onTop:T,setOnTop:S,name:m,editor:b,changeProps:E}),Object(a.jsx)("button",{className:"name-setter",onClick:function(){w(!y)},tabIndex:-1,children:Object(a.jsx)(re.a,{icon:"bi:gear-fill"})}),c]}))},oe=function(e){var t=e.attributes,n=e.element,r=e.children;return Object(a.jsx)(le,{renderProps:{attributes:t,element:n,children:r},tabIndex:0,children:function(e){var t=e.name;return Object(a.jsx)(a.Fragment,{children:t})}})},se=n(168),ue=function(e){var t=e.attributes,n=e.element,c=e.children,i="multiselect"===n.templateType,l=Object(r.useState)(n.defaultValue?n.defaultValue:null),o=Object(s.a)(l,2),u=o[0],d=o[1],b=Object(r.useState)(n.opts?n.opts:[]),j=Object(s.a)(b,2),h=j[0],p=j[1],f=Object(r.useRef)(null),O=Object(r.useCallback)((function(e,t,n){d(e),n({defaultValue:e})}),[d]);return Object(a.jsx)(le,{renderProps:{attributes:t,element:n,children:c},children:function(e){var t=e.name,r=e.setOnTop,c=e.changeProps;return Object(a.jsx)(se.a,{isMulti:i,ref:f,styles:je,theme:he,placeholder:t,onChange:function(e,t){return O(e,t,c)},onCreateOption:function(e){return function(e,t){var a=be(e),r=i?[].concat(Object(Y.a)(n.defaultValue),[a]):a;p([].concat(Object(Y.a)(h),[a])),d(r),t({opts:[].concat(Object(Y.a)(h),[a]),defaultValue:r})}(e,c)},onMenuOpen:function(){return r(!0)},onMenuClose:function(){return r(!1)},value:u,options:h})}})},de=function(e,t,n){var a=t.name,r=t.opts,c=t.defaultValue,i={type:"template-block",templateType:"".concat(n?"multiselect":"select"),name:a,opts:r,defaultValue:c,children:[{text:""}]};p.Transforms.insertNodes(e,i),p.Transforms.move(e)},be=function(e){return{label:e,value:e}},je={control:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{minHeight:"1.4em",height:"1.4em",paddingTop:"1px"})},valueContainer:function(e,t){var n=t.isMulti,a=t.getValue(),r=a.map((function(e){return e.label.length})).reduce((function(e,t){return e+t+(n?3:2)}),0)-2;return Object(j.a)(Object(j.a)({},e),{},{margin:"0 0 0 4px",transform:"translateY(-2px)",width:"".concat((a.length>0?r:t.selectProps.placeholder?t.selectProps.placeholder.length:5)+2,"ex"),minWidth:"5ex"})},input:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{margin:"0px"})},indicatorSeparator:function(e){return{display:"none"}},indicatorsContainer:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{height:"1.4em",transform:"translateY(-2px)"})},menu:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{marginTop:0,zIndex:"".concat(t.selectProps.menuIsOpen?999:"inherit")})},multiValue:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{marginRight:"3px"})},multiValueLabel:function(e){return Object(j.a)(Object(j.a)({},e),{},{padding:0})},option:function(e){return Object(j.a)(Object(j.a)({},e),{},{padding:"5px"})},noOptionsMessage:function(e){return Object(j.a)(Object(j.a)({},e),{},{padding:"5px 0"})}},he=function(e){return Object(j.a)(Object(j.a)({},e),{},{borderRadius:0,spacing:Object(j.a)(Object(j.a)({},e.spacing),{},{baseUnit:0})})},pe=n(166),fe=n.n(pe),Oe=(n(328),function(e){var t,n=e.attributes,c=e.children,i=e.element;i.defaultValue instanceof Date?t=i.defaultValue:"string"===typeof i.defaultValue&&(t=new Date(i.defaultValue));var l=Object(r.useState)(t||new Date),o=Object(s.a)(l,2),u=o[0],d=o[1];return Object(a.jsx)(le,{renderProps:{attributes:n,element:i,children:c},children:function(e){var t=e.name,n=e.changeProps;return Object(a.jsx)(fe.a,{todayButton:"Today",selected:u,onChange:function(e){return function(e,t){d(e),t({defaultValue:e})}(e,n)},isClearable:!0,placeholderText:t,dateFormat:"dd/MM/yyyy"})}})}),me=function(e){var t=e.attributes,n=e.children,r=e.element;switch(r.type){case"bulleted-list":return Object(a.jsx)("ul",Object(j.a)(Object(j.a)({},t),{},{children:n}));case"numbered-list":return Object(a.jsx)("ol",Object(j.a)(Object(j.a)({},t),{},{children:n}));case"heading-one":return Object(a.jsx)("h1",Object(j.a)(Object(j.a)({},t),{},{children:n}));case"heading-two":return Object(a.jsx)("h2",Object(j.a)(Object(j.a)({},t),{},{children:n}));case"heading-three":return Object(a.jsx)("h3",Object(j.a)(Object(j.a)({},t),{},{children:n}));case"heading-four":return Object(a.jsx)("h4",Object(j.a)(Object(j.a)({},t),{},{children:n}));case"list-item":return Object(a.jsx)("li",Object(j.a)(Object(j.a)({},t),{},{children:n}));case"template-block":switch(r.templateType){case"select":case"multiselect":return Object(a.jsx)(ue,{attributes:t,element:r,children:n});case"void":return Object(a.jsx)(oe,{attributes:t,element:r,children:n});case"date":return Object(a.jsx)(Oe,{attributes:t,element:r,children:n});default:return Object(a.jsx)(oe,{attributes:t,element:r,children:n})}default:return Object(a.jsx)("p",Object(j.a)(Object(j.a)({},t),{},{children:n}))}},ge=function(e){var t=e.attributes,n=e.children,r=e.leaf;return r.bold&&(n=Object(a.jsx)("strong",{children:n})),r.code&&(n=Object(a.jsx)("code",{children:n})),r.italic&&(n=Object(a.jsx)("em",{children:n})),r.underline&&(n=Object(a.jsx)("u",{children:n})),r.pretemplate&&(n=Object(a.jsx)("span",{style:{borderRadius:"5px",backgroundColor:"#ddd"},children:n})),Object(a.jsx)("span",Object(j.a)(Object(j.a)({},t),{},{children:n}))},xe=function(e){var t=e.format,n=e.icon,r=e.alt,c=Object(h.g)(),i=B(c,t);return Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:i?"active":"",onMouseDown:function(e){e.preventDefault(),L(c,t)},title:r,children:Object(a.jsx)(re.a,{icon:n})})})},ve=function(e){var t=e.format,n=e.icon,r=e.alt,c=Object(h.g)(),i=P(c,t);return Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:i?"active":"",onMouseDown:function(e){e.preventDefault(),R(c,t)},title:r,children:Object(a.jsx)(re.a,{icon:n})})})},ye=function(e){var t=e.format,n=e.icon,r=e.alt,c=Object(h.g)(),i=we(c,t);return Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:i?"active":"",onMouseDown:function(e){e.preventDefault(),D(c,t)},title:r,children:Object(a.jsx)(re.a,{icon:n})})})},we=function(e,t){var n=k.getCurrentList(e);if(n)return Object(s.a)(n,1)[0].type===t},ke=function(e){var t=e.children;return Object(a.jsx)("div",{className:"toolbar-container",children:Object(a.jsx)("ul",{children:t})})},Ce=function(e){var t=e.fn,n=e.icon,r=e.alt,c=Object(h.g)();return Object(a.jsx)("li",{children:Object(a.jsx)("button",{onMouseDown:function(e){e.preventDefault(),t(c)},title:r,children:Object(a.jsx)(re.a,{icon:n})})})},Te=function(e){var t=e.children;return l.a.createPortal(t,document.body)},Se=localStorage.getItem("dotAbbrevs"),De=Object(o.b)({key:"DotAbbreviations",default:Se?JSON.parse(Se):{}}),Ee=function(){var e=Object(r.useRef)(null),t=Object(h.g)(),n=Object(o.d)(De);return Object(r.useEffect)((function(){var n=e.current,a=t.selection;if(n)if(a&&h.b.isFocused(t)&&!p.Range.isCollapsed(a)&&""!==p.Editor.string(t,a)){var r=window.getSelection(),c=null===r||void 0===r?void 0:r.getRangeAt(0),i=null===c||void 0===c?void 0:c.getBoundingClientRect();n.style.opacity="1",n.style.top="".concat(i.top+window.pageYOffset-n.offsetHeight,"px"),n.style.left="".concat(i.left+window.pageXOffset-n.offsetWidth/2+15,"px")}else n.removeAttribute("style")})),Object(a.jsx)(Te,{children:Object(a.jsx)("div",{className:"hovering-menubar",ref:e,children:Object(a.jsx)("ul",{children:Object(a.jsx)(Ce,{fn:function(){return function(e,t){var n,a=e.selection,r=localStorage.getItem("dotAbbrevs")&&JSON.parse(localStorage.getItem("dotAbbrevs")),c=p.Editor.fragment(e,a),i=window.prompt("Name this fragment: "),l={};l[i]=c,n=r?Object(j.a)(Object(j.a)({},r),l):Object(j.a)({},l);t(n),localStorage.setItem("dotAbbrevs",JSON.stringify(n))}(t,n)},icon:"bi:dot",alt:"Save as a dot abbreviation"})})})})};var Ne=c.a.forwardRef((function(e,t){var n=e.opts,r=e.pos;return Object(a.jsx)(Te,{children:Object(a.jsx)("div",{className:"abbreviation-selector",ref:t,children:n.map((function(e,t){return Object(a.jsx)(Ie,{active:r===t,children:e},e)}))})})})),Ie=function(e){var t=e.active,n=e.children;return Object(a.jsx)("div",{className:"selector-item ".concat(t?"active-item":""),children:n})};function Ve(e,t){var n="function"===typeof e?e():e,a=URL.createObjectURL(n),r=document.createElement("a");r.href=a,r.setAttribute("download",t),r.setAttribute("target","_blank"),r.click(),r.remove()}function Fe(e){var t=document.createElement("input");t.setAttribute("type","file"),t.click(),t.addEventListener("change",(function(n){if(t.files&&t.files.length>=1){var a=t.files[0],r=new FileReader;e(a,r)}}))}var Ae=function(){var e=Object(r.useRef)(null),t=Object(r.useState)(JSON.parse(localStorage.getItem("content"))||ae),n=Object(s.a)(t,2),c=n[0],i=n[1],l=Object(r.useState)(),u=Object(s.a)(l,2),d=u[0],b=u[1],m=Object(r.useState)(),g=Object(s.a)(m,2),x=g[0],w=g[1],k=Object(r.useState)(0),C=Object(s.a)(k,2),N=C[0],I=C[1],P=Object(r.useState)(""),B=Object(s.a)(P,2),Y=B[0],H=B[1],U=Object(r.useState)(""),W=Object(s.a)(U,2),$=W[0],q=W[1],z=Object(o.c)(De),G=Object(s.a)(z,2),K=G[0],X=G[1],Q=Object(r.useState)(!1),Z=Object(s.a)(Q,2),ee=Z[0],te=Z[1],re=Object(r.useCallback)((function(e){return Object(a.jsx)(me,Object(j.a)({},e))}),[]),ce=Object(r.useCallback)((function(e){return Object(a.jsx)(ge,Object(j.a)({},e))}),[]),ie=Object(r.useMemo)((function(){return Object(f.a)(Object(h.h)(v(function(e){var t=e.isInline,n=e.isVoid,a=["template-block"];return e.isInline=function(e){var n=e.type;return!!a.includes(n)||t(e)},e.isVoid=function(e){var t=e.type;return!!a.includes(t)||n(e)},e}(Object(p.createEditor)()))))}),[]),le=Object.fromEntries(Object.entries(K).filter((function(e){var t=Object(s.a)(e,1)[0];return"$"!==Y?t.toLowerCase().startsWith(Y.toLowerCase()):!!t})));Object(r.useEffect)((function(){if(d&&ee){switch(p.Transforms.select(ie,d),$){case"{{":de(ie,{});break;case"[[":de(ie,{},!0);break;case"@@":!function(e,t){var n={type:"template-block",templateType:"date",name:t.name,children:[{text:""}]};p.Transforms.insertNodes(e,n),p.Transforms.move(e)}(ie,{});break;case"**":!function(e,t){var n={type:"template-block",templateType:"void",name:t.name,children:[{text:""}]};p.Transforms.insertNodes(e,n),p.Transforms.move(e)}(ie,{})}te(!1),b(null)}}),[ee]),Object(r.useEffect)((function(){if(x&&Object.keys(le).length>0){var t=e.current,n=h.b.toDOMRange(ie,x).getBoundingClientRect();t.style.top="".concat(n.top+window.pageYOffset+24,"px"),t.style.left="".concat(n.left+window.pageXOffset,"px")}}),[le,ie,N,Y,x]);var oe=Object(r.useCallback)((function(e){if(x)switch(e.key){case"ArrowDown":e.preventDefault();var t=N>=Object.keys(le).length-1?0:N+1;I(t);break;case"ArrowUp":e.preventDefault();var n=N<=0?Object.keys(le).length-1:N-1;I(n);break;case"Tab":case"Enter":e.preventDefault(),p.Transforms.select(ie,x);var a=Object.keys(le)[N],r=K[a];p.Editor.insertFragment(ie,r),w(null);break;case"Escape":e.preventDefault(),w(null)}}),[N,Y,x]);return Object(a.jsxs)(h.c,{editor:ie,value:c,onChange:function(e){i(e);var t=JSON.stringify(e);localStorage.setItem("content",t);var n=ie.selection;if(n&&p.Range.isCollapsed(n)){var a,r,c=p.Range.edges(n),l=Object(s.a)(c,1)[0],o=p.Editor.before(ie,l,{unit:"word"}),u=o&&J(ie,o,/^\.(\w+|\$)$/,{},l);u&&(a=u.range,u.text,r=u.match);var d=function(e,t,n,a){var r=p.Editor.after(e,t,a),c=p.Editor.range(e,t,r),i=p.Editor.string(e,c),l=i.match(n);return{range:c,text:i,match:l}}(ie,l,/^(\s|$)/).match,j=J(ie,l,/\{\{|\[\[|@@|\*\*/,{distance:2}),h=j.range,f=j.match,O=j.text;if(f&&(b(h),q(O),te(!0)),r&&d)return w(a),H(r[1]),void I(0)}w(null)},children:[Object(a.jsxs)(ke,{children:[Object(a.jsx)(xe,{format:"bold",icon:"gridicons:bold",alt:"Bold (Ctrl+B)"}),Object(a.jsx)(xe,{format:"italic",icon:"gridicons:italic",alt:"Italic (Ctrl+I)"}),Object(a.jsx)(xe,{format:"underline",icon:"gridicons:underline",alt:"Underline (Ctrl+U)"}),Object(a.jsx)(ve,{format:"heading-one",icon:"gridicons:heading-h1",alt:"Heading 1 (Ctrl+Alt+1)"}),Object(a.jsx)(ve,{format:"heading-two",icon:"gridicons:heading-h2",alt:"Heading 2 (Ctrl+Alt+2)"}),Object(a.jsx)(ve,{format:"heading-three",icon:"gridicons:heading-h3",alt:"Heading 3 (Ctrl+Alt+3)"}),Object(a.jsx)(ve,{format:"heading-four",icon:"gridicons:heading-h4",alt:"Heading 4 (Ctrl+Alt+4)"}),Object(a.jsx)(ye,{format:"bulleted-list",icon:"ic:baseline-format-list-bulleted",alt:"Bulleted list (Ctrl+.)"}),Object(a.jsx)(ye,{format:"numbered-list",icon:"ic:baseline-format-list-numbered",alt:"Numbered list (Ctrl+/)"}),Object(a.jsx)(Ce,{fn:T,icon:"bx:bx-right-indent",alt:"Indent list item (Tab)"}),Object(a.jsx)(Ce,{fn:S,icon:"bx:bx-left-indent",alt:"Dedent list item (Shift-Tab)"}),Object(a.jsx)(Ce,{fn:_,icon:"ion:copy-outline",alt:"Copy to clipboard as plain text (Markdown)"}),Object(a.jsx)(Ce,{fn:ne,icon:"ion:copy",alt:"Copy to clipboard as rich text"}),Object(a.jsx)(Ce,{fn:function(){return Ve(new Blob([JSON.stringify(ie.children)],{type:"application/json"}),"template.fdt")},icon:"bx:bxs-download",alt:"Save current template/contents as file"}),Object(a.jsx)(Ce,{fn:function(){return Fe((function(e,t){t.readAsText(e),t.onload=function(e){var t=JSON.parse(e.target.result);i(t)}}))},icon:"ic:baseline-file-upload",alt:"Open a template/document from a file"}),Object(a.jsx)(Ce,{fn:function(){return Ve(new Blob([JSON.stringify(K)],{type:"application/json"}),"abbreviations.fda")},icon:"bx:bxs-save",alt:"Save your abbreviations into a file"}),Object(a.jsx)(Ce,{fn:function(){return Fe((function(e,t){t.readAsText(e),t.onload=function(e){var t=JSON.parse(e.target.result);X(t)}}))},icon:"bi:cloud-upload",alt:"Load your abbreviations from a file"})]}),Object(a.jsx)(Ee,{}),Object(a.jsx)(O.a,{className:"editor",children:Object(a.jsx)(h.a,{renderElement:re,renderLeaf:ce,placeholder:"Enter some text...",spellCheck:!0,autoFocus:!0,onKeyDown:function(e){oe(e),y(ie)(e),function(e,t){for(var n in V)Object(E.isHotkey)(n,e)&&(e.preventDefault(),L(t,V[n]));for(var a in F)if(Object(E.isHotkey)(a,e)){e.preventDefault();var r=F[a];if(M.includes(r))switch(r){case"bulleted-list":D(t,"bulleted-list");break;case"numbered-list":D(t,"numbered-list")}else R(t,r)}for(var c in A)Object(E.isHotkey)(c,e)&&(e.preventDefault(),(0,A[c])(t))}(e,ie)},onSelect:function(e){if(window.chrome&&null!=ie.selection)try{var t=h.b.toDOMPoint(ie,ie.selection.focus)[0];if(null==t)return;var n=t.parentElement;if(null==n)return;n.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(e){}}})}),x&&Object.keys(le).length>0&&Object(a.jsx)(Ne,{opts:Object.keys(le),pos:N,ref:e})]})},Me=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"modal-body",children:[Object(a.jsxs)("p",{children:["FastDischarge aims to be an open-source medical documentation platform that is truly ",Object(a.jsx)("em",{children:"fast"}),"."]}),Object(a.jsx)("p",{children:"With FastDischarge, you can easily create template fields and prepopulate them with commonly used values of your choice. FastDischarge lets you write your progress notes and discharge letters faster, so you can get back to doctoring."}),Object(a.jsxs)("p",{children:["FastDischarge doesn't use any central servers; everything you enter into it is stored locally on your device, so there are no data privacy issues to worry about! (Don't believe me? Check the source code on ",Object(a.jsx)("a",{href:"https://github.com/newageoflight/fast-discharge",children:"Github"}),"!)"]}),Object(a.jsx)("h2",{children:"Usage guide"}),Object(a.jsx)("h3",{children:"Templates"}),Object(a.jsx)("p",{children:"With FastDischarge you can create several kinds of template fields:"}),Object(a.jsxs)("dl",{children:[Object(a.jsx)("dt",{children:"Selection (list)"}),Object(a.jsxs)("dd",{children:["To select from a simple list of terms (e.g. attending doctors), type in ",Object(a.jsx)("kbd",{children:"{{"})]}),Object(a.jsx)("dt",{children:"Multiple selection (list)"}),Object(a.jsxs)("dd",{children:["To select multiple items from a list of terms (e.g. background conditions), type in ",Object(a.jsx)("kbd",{children:"[["})]}),Object(a.jsx)("dt",{children:"Dates"}),Object(a.jsxs)("dd",{children:["To insert a date-picker (e.g. for admission and discharge dates), type in ",Object(a.jsx)("kbd",{children:"@@"})]}),Object(a.jsx)("dt",{children:"Voids"}),Object(a.jsxs)("dd",{children:["To insert a void (whose sole purpose is to be given a name and replaced), type in ",Object(a.jsx)("kbd",{children:"**"})]})]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"For list template types, you can set options"})," by clicking on the dropdown menu and typing in some text."]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"Cycle to the next template field"})," by pressing ",Object(a.jsx)("kbd",{children:"TAB"}),"; ",Object(a.jsx)("strong",{children:"cycle to the previous template field"})," by pressing ",Object(a.jsx)("kbd",{children:"Shift+TAB"})]}),Object(a.jsxs)("p",{children:["[UNDER DEVELOPMENT] You can also cycle to template fields by pressing ",Object(a.jsx)("kbd",{children:"Ctrl+["})," for the previous and ",Object(a.jsx)("kbd",{children:"Ctrl+]"})," for the next"]}),Object(a.jsx)("h3",{children:"Snippets and dot abbreviations"}),Object(a.jsxs)("p",{children:["If you frequently use a snippet, you can save it as a ",Object(a.jsx)("strong",{children:"dot abbreviation"})," by selecting it and clicking the ",Object(a.jsx)(re.a,{icon:"bi:dot"})," dot icon in the hovering selection menu. You will be asked to give it a name."]}),Object(a.jsxs)("p",{children:["You can later invoke the snippet by typing ",Object(a.jsx)("kbd",{children:".nameOfYourAbbreviation"}),', e.g. if you named it "cag" type ',Object(a.jsx)("kbd",{children:".cag"})]}),Object(a.jsx)("h3",{children:"Finalising documents"}),Object(a.jsxs)("p",{children:["To finalise your document and ",Object(a.jsx)("strong",{children:"copy its contents as plain text"})," (e.g. Web DeLacy), press the ",Object(a.jsx)(re.a,{icon:"ion:copy-outline"})," button in the toolbar."]}),Object(a.jsxs)("p",{children:["To finalise your document and ",Object(a.jsx)("strong",{children:"copy its contents as rich text"})," (e.g. PowerChart), press the ",Object(a.jsx)(re.a,{icon:"ion:copy"})," button in the toolbar."]}),Object(a.jsx)("h3",{children:"Taking your settings with you"}),Object(a.jsx)("p",{children:"I'm still not sure if there are legal issues around having user accounts to store your abbreviations, especially when sensitive patient data is concerned, so you'll have to store them as files if you want to take them around."}),Object(a.jsxs)("p",{children:["For this there are the ",Object(a.jsx)(re.a,{icon:"bx:bxs-save"})," ",Object(a.jsx)("strong",{children:"save my abbreviations"})," and ",Object(a.jsx)(re.a,{icon:"bi:cloud-upload"})," ",Object(a.jsx)("strong",{children:"load my abbreviations"})," buttons"]})]}),Object(a.jsxs)("div",{className:"modal-footer",children:[Object(a.jsx)("h2",{children:"Contributing/credits"}),Object(a.jsx)("p",{children:"FastDischarge might frequently break and be full of bugs because it's still early days, so don't expect too much out of it!"}),Object(a.jsxs)("p",{children:["If you have experience working with Slate.js, React.js or Typescript, please consider contributing to this project on ",Object(a.jsx)("a",{href:"https://github.com/newageoflight/fast-discharge",children:"Github"}),"."]}),Object(a.jsxs)("p",{children:["Developed by ",Object(a.jsx)("a",{href:"mailto:camint3rnal@live.com",children:"Christopher Chen"})," (JMO/Intern)"]})]})]})};var Re=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("header",{children:Object(a.jsxs)("h1",{children:[Object(a.jsx)("img",{src:b,alt:"Running man",style:{height:"1em",display:"inline-block",transform:"translateY(6px)"}}),"FastDischarge"]})}),Object(a.jsx)("div",{className:"editor-container",children:Object(a.jsx)(Ae,{})}),Object(a.jsx)("footer",{children:Object(a.jsxs)("div",{className:"oneline",children:[Object(a.jsxs)("p",{children:["\xa9 ",Object(a.jsx)("a",{href:"https://github.com/newageoflight",children:"Christopher Chen"})," 2021-"]}),Object(a.jsx)("button",{onClick:function(){return c(!0)},children:Object(a.jsx)(re.a,{icon:"bx:bx-help-circle"})})]})}),Object(a.jsxs)(d.a,{isOpen:n,onRequestClose:function(){return c(!1)},contentLabel:"About FastDischarge",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h2",{children:"About FastDischarge"}),Object(a.jsx)("button",{onClick:function(){return c(!1)},children:Object(a.jsx)(re.a,{icon:"eva:close-fill"})})]}),Object(a.jsx)(Me,{})]})]})},Le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,403)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};l.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(o.a,{children:Object(a.jsx)(Re,{})})}),document.getElementById("root")),Le()}},[[401,1,2]]]);
//# sourceMappingURL=main.aa5f24d0.chunk.js.map